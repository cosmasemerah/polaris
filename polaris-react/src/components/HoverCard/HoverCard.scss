@import '../../styles/common';

$arrow-size: 14px;
$visible-portion-of-arrow: 5px;
$content-max-height: 500px;
$content-max-width: 400px;
$vertical-motion-offset: -5px;

.HoverCard {
  max-width: calc(100vw - var(--p-space-8));
  margin: $visible-portion-of-arrow var(--p-space-2) var(--p-space-4);
  box-shadow: var(--p-shadow-xl);
  border-radius: var(--p-border-radius-2);
  will-change: left, top;

  #{$se23} & {
    @include shadow-bevel(
      $boxShadow: var(--p-shadow-md),
      $borderRadius: var(--p-border-radius-3),
      $zIndex: 2
    );
  }
}

.HoverCardOverlay {
  opacity: 0;
  transition: opacity var(--p-motion-duration-100) var(--p-motion-ease),
    transform var(--p-motion-duration-100) var(--p-motion-ease);
  transform: translateY($vertical-motion-offset);
}

.HoverCardOverlay-entering {
  opacity: 1;
  transform: translateY(0);
}

.HoverCardOverlay-open {
  opacity: 1;
  transform: none;
}

.measuring:not(.HoverCardOverlay-exiting) {
  opacity: 0;
  transform: translateY($vertical-motion-offset);
}

.fullWidth {
  margin: $visible-portion-of-arrow auto 0 auto;

  .Content {
    max-width: none;
  }
}

.positionedAbove {
  margin: var(--p-space-4) var(--p-space-2) $visible-portion-of-arrow;

  &.fullWidth {
    margin: 0 auto $visible-portion-of-arrow auto;
  }
}

.ActivatorWrapper {
  display: block;
  width: fit-content;
}

.ContentContainer {
  position: relative;
  overflow: hidden;
  background: var(--p-color-bg);
  border-radius: var(--p-space-2);

  /* Prevent Scrollable's box shadows overflowing the rounded corners of this
   * element on Safari prior to tech preview version 156.
   * See: https://bugs.webkit.org/show_bug.cgi?id=68196 */
  isolation: isolate;

  #{$se23} & {
    border-radius: var(--p-space-3);
  }
}

.Content {
  position: relative;
  display: flex;
  flex-direction: column;
  border-radius: var(--p-border-radius-1);
  max-width: $content-max-width;
  max-height: $content-max-height;

  &:focus {
    outline: none;
  }
}

.Content-fullHeight {
  max-height: 100vh;
}

.Content-fluidContent {
  max-height: none;
  max-width: none;
}
